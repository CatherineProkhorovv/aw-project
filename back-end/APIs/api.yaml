openapi: 3.0.3
info:
  title: Aplicações na Web 
  version: 1.0.0


paths:
  /login :
    put:
      tags:
        - Login
      summary: Fazer sign up
      requestBody:
        required: true
        content:
          application/json:
            schema:
               $ref: '#/components/schemas/User'
            
      responses:
        '200':
          description: ok
        '400':
          description: Invalid user
        '404':
          description: No user found

  /login/{user_id} :
    put:
      tags:
        - Login
      summary: Fazer sign in
      parameters:
        - in: path
          name: user_id
          required: true
          schema:
            type: string
            format: string
      requestBody:      
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/User'
      responses:
        '200':
          description: ok
        '400':
          description: Invalid user 
        '404':
          description: No user found
    
    get:
      tags:
        - Login
      summary: Obter Login de um user específico
      parameters:
        - in: path
          name: user_id
          required: true
          schema:
            type: string
            format: string
      responses:
        '200':
          description: User successfully obtained!
          content:
            application/json:
              example:
                username: login_id
        '400':
          description: Invalid id
        '404':
          description: No id found for the given user name    
    delete:
      tags:
        - Login
      summary: Apagar um user específico
      parameters:
        - in: path
          name: user_id
          required: true
          schema:
            type: string
            format: string
      responses:
        '200':
          description: User deleted successfully!
        '400':
          description: Invalid id
        '404':
          description: No id found for the given user name 
          
  /perfil :
    get:
      tags:
        - Perfil
      summary: Obter lista de perfis
      responses:
        '200':
          description: ok
          content:
            application/json:
              example:
                Lista de perfis: [perfil1,perfil2,...,perfilN]
        '400':
          description: Invalid id
        '404':
          description: Not found
    delete:
      tags:
        - Perfil
      summary: Apagar vários perfis
      responses:
        '200':
          description: Profiles deleted successfully!
        '400':
          description: Invalid id
        '404':
          description: Not found
            
  /perfil/{user_id} :
    put:
      tags:
        - Perfil
      summary: Adicionar um perfil espicífico
      parameters:
        - in: path
          name: user_id
          required: true
          schema:
            type: string
            format: string
      requestBody:      
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Perfil'
      responses:
        '200':
          description: Profile added successfully!
        '400':
          description: Invalid user 
        '404':
          description: Not found

    get:
      tags:
        - Perfil
      summary: Obter um perfil específico
      parameters:
        - in: path
          name: user_id
          required: true
          schema:
            type: string
            format: string
      responses:
        '200':
          description: Profile obtained successfully!
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Perfil'
        '400':
          description: Invalid id
        '404':
          description: Not found   
    delete:
      tags:
        - Perfil
      summary: Apagar um perfil específico
      parameters:
        - in: path
          name: user_id
          required: true
          schema:
            type: string
            format: string
      responses:
        '200':
          description: Profile deleted successfully!
        '400':
          description: Invalid id
        '404':
          description: Not found
          
  /localizacao :
    put:
      tags:
        - Localização
      summary: Adicionar várias localizações
      requestBody:
        required: true
        content:
          application/json:
            example:
              Localizações: [Continente - Telheiras, Continente - Saldanha, Continente - Bela Vista, ..]
      responses:
        '200':
          description: OK
        '400':
          description: Invalid id
        '404':
          description: Not found
          
    get:
      tags:
        - Localização
      summary: Obter várias localizações
      responses:
        '200':
          description: Locations added successfully!
          content:
            application/json:
              example:
                Localizações: [Continente - Telheiras, Continente - Saldanha, Continente - Bela Vista, ..]
        '400':
          description: Invalid id
        '404':
          description: Not found

  /localizacao/{id_loc} :
    put:
      tags:
        - Localização
      summary: Adicionar localização específica
      parameters:
        - in: path
          name: id_loc
          required: true
          schema:
            type: string
            format: string
      requestBody:      
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Supermercado'
      responses:
        '200':
          description: Location added successfully!
        '400':
          description: Invalid id 
        '404':
          description: Not found
    
    get:
      tags:
        - Localização
      summary: Obter localização específica
      parameters:
        - in: path
          name: id_loc
          required: true
          schema:
            type: string
            format: string
      responses:
        '200':
          description: Location obtained successfully!
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Supermercado'
        '400':
          description: Invalid id
        '404':
          description: Not found   
    delete:
      tags:
        - Localização
      summary: Apagar localização específica
      parameters:
        - in: path
          name: id_loc
          required: true
          schema:
            type: string
            format: string
      responses:
        '200':
          description: Location deleted successfully!
        '400':
          description: Invalid id
        '404':
          description: Not found 
        
  /produtos :
    put:
      tags:
        - Produtos
      summary: Adicionar vários produtos
      requestBody:
        required: true
        content:
          application/json:
            example:
              Lista de Produtos: [
                destaques: [Localização: [Continente - Telheiras, Continente - Saldanha, Continente - Bela Vista], Nome: [Bife da Vazia - Monte do Pasto, Jardineira de Novilho - Angus, Frango - Herdade da Pena] , Preço: [24.95€/kg, 14.90€/kg, 18.99€/kg]],
                categorias: [Vaca, Porco, Pronto a cozinhar, Borrego], 
                detalhes: [Produtor: [Monte do Bico, Jaruco, Herdade do Manjar], Origem: [Alentejo, Portugal, Espanha], Sexo: [F, M, M], Idade: [10A 2M, 13A 5M, 8A 8M], Raça: [Alentejo, Curraleiro, Piçarras]],
                favoritos:[Localização: [Continente - Telheiras, Continente - Saldanha, Continente - Bela Vista], Nome: [Bife da Vazia - Monte do Pasto, Jardineira de Novilho - Angus, Frango - Herdade da Pena] , Preço: [24.95€/kg, 14.90€/kg, 18.99€/kg]],
                QRcode: ...
                ]
      responses:
        '200':
          description: ok
        '400':
          description: Invalid id
        '404':
          description: Not found
          
    get:
      tags:
        - Produtos
      summary: Obter vários produtos
      responses:
        '200':
          description: ok
          content:
            application/json:
              example:
                Lista de Produtos: [
                  destaques: [Localização: [Continente - Telheiras, Continente - Saldanha, Continente - Bela Vista], Nome: [Bife da Vazia - Monte do Pasto, Jardineira de Novilho - Angus, Frango - Herdade da Pena] , Preço: [24.95€/kg, 14.90€/kg, 18.99€/kg]],
                  categorias: [Vaca, Porco, Pronto a cozinhar, Borrego], 
                  detalhes: [Produtor: [Monte do Bico, Jaruco, Herdade do Manjar], Origem: [Alentejo, Portugal, Espanha], Sexo: [F, M, M], Idade: [10A 2M, 13A 5M, 8A 8M], Raça: [Alentejo, Curraleiro, Piçarras]],
                  favoritos:[Localização: [Continente - Telheiras, Continente - Saldanha, Continente - Bela Vista], Nome: [Bife da Vazia - Monte do Pasto, Jardineira de Novilho - Angus, Frango - Herdade da Pena] , Preço: [24.95€/kg, 14.90€/kg, 18.99€/kg]],
                  QRcode: ...
                ]
        '400':
          description: Invalid id
        '404':
          description: Not found

  /produtos/{id_prod} :
    put:
      tags:
        - Produtos
      summary: Adicionar produto específico
      parameters:
        - in: path
          name: id_prod
          required: true
          schema:
            type: string
            format: string
      requestBody:      
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Produtos'
      responses:
        '200':
          description: Product added successfully! 
        '400':
          description: Invalid id 
        '404':
          description: Not found
    
    get:
      tags:
        - Produtos
      summary: Obter produto específico
      parameters:
        - in: path
          name: id_prod
          required: true
          schema:
            type: string
            format: string
      responses:
        '200':
          description: Product obtained successfully!
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Produtos'
        '400':
          description: Invalid id
        '404':
          description: Not found    
    delete:
      tags:
        - Produtos
      summary: Apagar produto específico
      parameters:
        - in: path
          name: id_prod
          required: true
          schema:
            type: string
            format: string
      responses:
        '200':
          description: Product deleted successfully!
        '400':
          description: Invalid id
        '404':
          description: Not found
  
  /feedback :
    put:
      tags:
        - Feedback
      summary: Adicionar lista de feedback
      requestBody:
        required: true
        content:
          application/json:
            example:
              Lista de FeedBack: [FeedBack1, FeedBack2, FeedBack3, ...]
      responses:
        '200':
          description: ok
        '400':
          description: Invalid
        '404':
          description: Not found
          
    get:
      tags:
        - Feedback
      summary: Obter lista de feedback
      responses:
        '200':
          description: ok
          content:
            application/json:
              example:
                Lista de FeedBack: [FeedBack1, FeedBack2, FeedBack3, ...]
        '400':
          description: Invalid
        '404':
          description: Not found

  /feedback/{id_prod} :
    put:
      tags:
        - Feedback
      summary: Adicionar feedback específico
      parameters:
        - in: path
          name: id_prod
          required: true
          schema:
            type: string
            format: string
      requestBody:      
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Feedback'
      responses:
        '200':
          description: Feedback added successfully!
        '400':
          description: Invalid id 
        '404':
          description: Not found
    
    get:
      tags:
        - Feedback
      summary: Obter feedback específico
      parameters:
        - in: path
          name: id_prod
          required: true
          schema:
            type: string
            format: string
      responses:
        '200':
          description: Feedback successfully obtained!
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Feedback'
        '400':
          description: Invalid id
        '404':
          description: Not found   
    delete:
      tags:
        - Feedback
      summary: Apagar feedback específico
      parameters:
        - in: path
          name: id_prod
          required: true
          schema:
            type: string
            format: string
      responses:
        '200':
          description: Feedback deleted successfully!
        '400':
          description: Invalid id
        '404':
          description: Not found
          
  /noticias :
    put:
      tags:
        - Noticias
      summary: Adicionar lista de noticias
      requestBody:
        required: true
        content:
          application/json:
            example:
              Lista de Noticias: [Noticia1, Noticia2, Noticia3, ...]
      responses:
        '200':
          description: ok
        '400':
          description: Invalid id
        '404':
          description: Not found
          
    get:
      tags:
        - Noticias
      summary: Obter lista de noticias
      responses:
        '200':
          description: ok
          content:
            application/json:
              schema:
                example:
                  Lista de Noticias: [Noticia1, Noticia2, Noticia3, ...]
        '400':
          description: Invalid id
        '404':
          description: Not found

  /noticias/{id_noticias} :
    put:
      tags:
        - Noticias
      summary: Adicionar noticia específica
      parameters:
        - in: path
          name: id_noticias
          required: true
          schema:
            type: string
            format: string
      requestBody:      
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Noticias'
      responses:
        '200':
          description: News added successfully!
        '400':
          description: Invalid id 
        '404':
          description: Not found
    
    get:
      tags:
        - Noticias
      summary: Obter noticia específica
      parameters:
        - in: path
          name: id_noticias
          required: true
          schema:
            type: string
            format: string
      responses:
        '200':
          description: News obtained successfully!
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Noticias'
        '400':
          description: Invalid id
        '404':
          description: Not found   
    delete:
      tags:
        - Noticias
      summary: Apagar noticia específica
      parameters:
        - in: path
          name: id_noticias
          required: true
          schema:
            type: string
            format: string
      responses:
        '200':
          description: News deleted successfully!
        '400':
          description: Invalid id
        '404':
          description: Not found  
          
  /estatisticas :
    put:
      tags:
        - Estatisticas
      summary: Adicionar lista de estatisticas
      requestBody:
        required: true
        content:
          application/json:
            example:
              Lista de Estatisticas: [Estatistica1, Estatistica2, Estatistica3, ...]
      responses:
        '200':
          description: ok
        '400':
          description: Invalid id
        '404':
          description: Not found
          
    get:
      tags:
        - Estatisticas
      summary: Obter lista de estatisticas
      responses:
        '200':
          description: ok
          content:
            application/json:
              example:
                Lista de Estatisticas: [Estatistica1, Estatistica2, Estatistica3, ...]
        '400':
          description: Invalid id
        '404':
          description: Not found
          
    delete:
      tags:
        - Estatisticas
      summary: Apagar lista de estatisticas
      responses:
        '200':
          description: ok
        '400':
          description: Invalid id
        '404':
          description: Not found 

  /estatisticas/{id_estatisticas} :
    put:
      tags:
        - Estatisticas
      summary: Adicionar estatistica específica
      parameters:
        - in: path
          name: id_estatisticas
          required: true
          schema:
            type: string
            format: string
      requestBody:      
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Estatistica'
      responses:
        '200':
          description: Statistics added successfully!
        '400':
          description: Invalid id 
        '404':
          description: Not found
    
    get:
      tags:
        - Estatisticas
      summary: Obter estatistica específica
      parameters:
        - in: path
          name: id_estatisticas
          required: true
          schema:
            type: string
            format: string
      responses:
        '200':
          description: Statistics obtained successfully!
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Estatistica'
        '400':
          description: Invalid id
        '404':
          description: Not found 
    delete:
      tags:
        - Estatisticas
      summary: Apagar estatistica específica
      parameters:
        - in: path
          name: id_estatisticas
          required: true
          schema:
            type: string
            format: string
      responses:
        '200':
          description: Statistics deleted successfully!
        '400':
          description: Invalid id
        '404':
          description: Not found


components:
  schemas:
    User:
      type: object
      properties:
        username:
          type: string
          example: john
        password:
          type: string
          example: password123
          
    Perfil:
      type: object
      properties:
        foto:
          type: string
          example: "String"
        Utilizador:
          type: string
          example: "Jonh"
        email:
          type: string
          example: "Jonh@example.com"
  
    Supermercado:
      type: object
      properties:
        location:
          type: string
          example: "Continente - Telheiras"
        
    Produtos:
      type: object
      properties:
        produtos:
          type: string
          example: "Bife da Vazia"
          
    Feedback:
      type: object
      properties:
        FeedBack:
          type: string
          example: "Carne de Vaca tinha um bom preço e uma ótima qualidade"
          
    Noticias:
      type: object
      properties:
        Noticia:
          type: string
          example: "Carne de Vaca em promoção!! 20% de Desconto, aprovite já!"
          
    Estatistica:
      type: object
      properties:
        Estatisticas:
          type: string
          example: "30% das pessoas compraram Carne de Vaca e 50% compraram Carne de Porco"
        
          
  # securitySchemes:
  #   taxi_auth:
  #     type: oauth2
  #     flows:
  #       implicit:
  #         authorizationUrl: https://link_here_to_be_changed.io/oauth/authorize
  #         scopes:
  #           read:trips: read user trip information
  #           write:trips: create or update user trip information
  #           read:payment: read user payment methods
  #           write:payment: create or update user payment methods  


